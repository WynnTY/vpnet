# VPNet - è·¨å¹³å°é«˜æ€§èƒ½å»ä¸­å¿ƒåŒ–è™šæ‹Ÿå±€åŸŸç½‘ç»„ç½‘å¹³å°

VPNet æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€ä½å ç”¨å†…å­˜çš„å»ä¸­å¿ƒåŒ–è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰ç»„ç½‘å¹³å°ï¼Œä¸“ä¸ºè·¨è®¾å¤‡ã€è·¨ç½‘ç»œç¯å¢ƒè®¾è®¡ï¼Œæ”¯æŒå¤šç§æ¶æ„å’Œæ“ä½œç³»ç»Ÿã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”— ç½‘ç»œç‰¹æ€§
- **å»ä¸­å¿ƒåŒ–è®¾è®¡**ï¼šæ— éœ€ä¸­å¿ƒæœåŠ¡å™¨ï¼ŒèŠ‚ç‚¹é—´ç›´æ¥é€šä¿¡
- **è·¨å¹³å°æ”¯æŒ**ï¼šå…¼å®¹ Windowsã€Linuxã€macOS ç­‰å¤šç§æ“ä½œç³»ç»Ÿ
- **å¤šæ¶æ„æ”¯æŒ**ï¼šæ”¯æŒ x86_64ã€arm64ã€armv7 ç­‰å¤šç§ç¡¬ä»¶æ¶æ„
- **é«˜æ€§èƒ½**ï¼šåŸºäº Rust å’Œ Tokio æ„å»ºï¼Œä½å»¶è¿Ÿã€é«˜ååé‡
- **ä½èµ„æºå ç”¨**ï¼šä¼˜åŒ–å†…å­˜å’Œ CPU ä½¿ç”¨ç‡ï¼Œé€‚åˆåµŒå…¥å¼è®¾å¤‡
- **NAT ç©¿é€**ï¼šè‡ªåŠ¨å¤„ç† NAT ç©¿é€ï¼Œæ— éœ€ç«¯å£æ˜ å°„
- **åŠ å¯†é€šä¿¡**ï¼šç«¯åˆ°ç«¯åŠ å¯†ï¼Œä¿è¯æ•°æ®å®‰å…¨
- **è‡ªåŠ¨é‡è¿**ï¼šç½‘ç»œä¸­æ–­åè‡ªåŠ¨æ¢å¤è¿æ¥

### ğŸ“± è®¾å¤‡ç®¡ç†
- **è®¾å¤‡æˆæƒ**ï¼šæœåŠ¡ç«¯å¯¹ç»„ç½‘è®¾å¤‡è¿›è¡Œæˆæƒç®¡ç†
- **è™šæ‹Ÿ IP åˆ†é…**ï¼šè‡ªåŠ¨åˆ†é…è™šæ‹Ÿ IP åœ°å€
- **è®¾å¤‡çŠ¶æ€ç›‘æ§**ï¼šå®æ—¶ç›‘æ§è®¾å¤‡åœ¨çº¿çŠ¶æ€
- **è¿œç¨‹ç®¡ç†**ï¼šæ”¯æŒè¿œç¨‹é…ç½®å’Œç®¡ç†è®¾å¤‡

### ğŸ¨ Web ç®¡ç†ç•Œé¢
- **ç°ä»£åŒ–è®¾è®¡**ï¼šé€æ˜ç»ç’ƒæ•ˆæœ UIï¼Œæ·±è‰²/æµ…è‰²ä¸»é¢˜æ”¯æŒ
- **å“åº”å¼å¸ƒå±€**ï¼šé€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **å®æ—¶æ•°æ®**ï¼šæ•°æ®å®æ—¶åˆ·æ–°ï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°é¡µé¢
- **åŸç”Ÿä¸­æ–‡æ”¯æŒ**ï¼šå…¨ä¸­æ–‡ç•Œé¢ï¼Œæ˜“äºä½¿ç”¨

### ğŸ”§ å¼€å‘ä¸éƒ¨ç½²
- **GitHub Actions æ”¯æŒ**ï¼šè‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ
- **äº¤å‰ç¼–è¯‘**ï¼šæ”¯æŒè·¨å¹³å°ç¼–è¯‘ï¼Œç”Ÿæˆä¸åŒæ¶æ„çš„å¯æ‰§è¡Œæ–‡ä»¶
- **è½»é‡çº§éƒ¨ç½²**ï¼šç¼–è¯‘åå¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯å°ï¼Œé€‚åˆåµŒå…¥å¼è®¾å¤‡
- **é…ç½®çµæ´»**ï¼šæ”¯æŒé…ç½®æ–‡ä»¶å’Œå‘½ä»¤è¡Œå‚æ•°

## ğŸ“‹ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                VPNet ç³»ç»Ÿæ¶æ„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   OpenWrt è·¯ç”±å™¨  â”‚<â”€â”€â”€â”€â”€â”€â”€>â”‚   Ubuntu æœåŠ¡å™¨   â”‚<â”€â”€â”€â”€â”€â”€â”€>â”‚   Windows PC      â”‚     â”‚
â”‚  â”‚  (arm64, æœåŠ¡ç«¯) â”‚         â”‚  (x86_64, èŠ‚ç‚¹)   â”‚         â”‚  (x86_64, å®¢æˆ·ç«¯)  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚          â†‘                            â†‘                            â†‘           â”‚
â”‚          â”‚                            â”‚                            â”‚           â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                       â”‚                                        â”‚
â”‚                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                                â”‚   macOS ç¬”è®°æœ¬   â”‚                              â”‚
â”‚                                â”‚  (arm64, å®¢æˆ·ç«¯)  â”‚                              â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
vpnet/
â”œâ”€â”€ vpnet-core/          # æ ¸å¿ƒåº“ï¼ŒåŒ…å«ç½‘ç»œåè®®ã€åŠ å¯†ã€è™šæ‹Ÿè®¾å¤‡ç­‰
â”œâ”€â”€ vpnet-server/        # æœåŠ¡ç«¯å®ç°
â”œâ”€â”€ vpnet-client/        # å®¢æˆ·ç«¯å®ç°
â”œâ”€â”€ vpnet-web/           # Web ç®¡ç†ç•Œé¢
â”œâ”€â”€ .github/workflows/   # GitHub Actions å·¥ä½œæµé…ç½®
â”œâ”€â”€ Cargo.toml           # Rust é¡¹ç›®é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

#### æœåŠ¡ç«¯
- **æ“ä½œç³»ç»Ÿ**ï¼šOpenWrtã€Ubuntuã€Debian ç­‰ Linux å‘è¡Œç‰ˆ
- **æ¶æ„**ï¼šarm64ã€x86_64
- **å†…å­˜**ï¼šè‡³å°‘ 32MB
- **å­˜å‚¨**ï¼šè‡³å°‘ 1MB

#### å®¢æˆ·ç«¯
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11ã€Linuxã€macOS
- **æ¶æ„**ï¼šx86_64ã€arm64ã€armv7
- **å†…å­˜**ï¼šè‡³å°‘ 16MB
- **å­˜å‚¨**ï¼šè‡³å°‘ 512KB

### å®‰è£…æ–¹å¼

#### ä» GitHub Releases ä¸‹è½½
1. è®¿é—® [GitHub Releases](https://github.com/yourusername/vpnet/releases)
2. ä¸‹è½½å¯¹åº”å¹³å°å’Œæ¶æ„çš„å¯æ‰§è¡Œæ–‡ä»¶
3. è§£å‹å¹¶è¿è¡Œ

#### ä½¿ç”¨ GitHub Actions æ„å»º
1. Fork æœ¬ä»“åº“åˆ°ä½ çš„ GitHub è´¦å·
2. åœ¨ GitHub ä»“åº“çš„ Actions æ ‡ç­¾é¡µå¯ç”¨å·¥ä½œæµ
3. æ¨é€ä»£ç å˜æ›´ï¼Œè‡ªåŠ¨è§¦å‘æ„å»º
4. åœ¨ Actions ç»“æœä¸­ä¸‹è½½æ„å»ºäº§ç‰©

### åŸºæœ¬ä½¿ç”¨

#### æœåŠ¡ç«¯é…ç½®ï¼ˆä»¥ OpenWrt ä¸ºä¾‹ï¼‰

1. ä¸Šä¼ å¯æ‰§è¡Œæ–‡ä»¶åˆ°è·¯ç”±å™¨
   ```bash
   scp vpnet-server-arm64 yourusername@router-ip:/tmp/
   ```

2. ç™»å½•è·¯ç”±å™¨ï¼Œèµ‹äºˆæ‰§è¡Œæƒé™
   ```bash
   ssh yourusername@router-ip
   chmod +x /tmp/vpnet-server-arm64
   ```

3. è¿è¡ŒæœåŠ¡ç«¯
   ```bash
   /tmp/vpnet-server-arm64 --config vpnet-server.toml
   ```

4. è®¿é—® Web ç®¡ç†ç•Œé¢
   ```
   http://router-ip:51822
   ```

#### å®¢æˆ·ç«¯é…ç½®

1. è¿è¡Œå®¢æˆ·ç«¯
   ```bash
   ./vpnet-client --config vpnet-client.toml
   ```

2. åœ¨ Web ç®¡ç†ç•Œé¢ä¸­æˆæƒè®¾å¤‡

3. è¿æ¥æˆåŠŸåï¼Œå®¢æˆ·ç«¯å°†è‡ªåŠ¨åˆ†é…è™šæ‹Ÿ IPï¼Œå¯ç›´æ¥è®¿é—®å…¶ä»–èŠ‚ç‚¹çš„å†…ç½‘èµ„æº

## ğŸ“‹ é…ç½®æ–‡ä»¶

### æœåŠ¡ç«¯é…ç½® `vpnet-server.toml`

```toml
[server]
bind = "0.0.0.0"
port = 51820
workers = 4
timeout = 30

[virtual_device]
name = "vpnet0"
ip = "10.0.0.1"
subnet = "255.255.255.0"
gateway = "10.0.0.1"
mtu = 1420
enable_ipv6 = false

[node]
id = "node-001"
name = "OpenWrt Router"
key_file = "vpnet-key.json"
auto_discovery = true
discovery_interval = 60

[api]
bind = "0.0.0.0"
port = 51821
enable_cors = true
allowed_origins = ["*"]
rate_limit = 100

[web]
bind = "0.0.0.1"
port = 51822
enable_tls = false
enable_compression = true

[auth]
enable = true
secret_key = "your-secret-key"
token_expiry = 86400
allow_anonymous = false
```

### å®¢æˆ·ç«¯é…ç½® `vpnet-client.toml`

```toml
[client]
id = "client-001"
name = "Windows PC"
port = 51820
key_file = "vpnet-client-key.json"
enable_auto_connect = true
reconnect_interval = 5
max_reconnect_attempts = 10

[server]
address = "router-ip:51820"
timeout = 30
enable_encryption = true
enable_compression = true

[virtual_device]
name = "vpnet0"
ip = "10.0.0.2"
subnet = "255.255.255.0"
gateway = "10.0.0.1"
mtu = 1420
enable_ipv6 = false

[auth]
username = "your-username"
password = "your-password"
token_file = "vpnet-token.json"
enable_auto_login = true
auth_timeout = 60

[monitor]
enable = true
interval = 30
log_level = "info"
enable_stats = true
stats_file = "vpnet-stats.json"
stats_interval = 60
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- **Rust**ï¼š1.70 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Cargo**ï¼šRust åŒ…ç®¡ç†å·¥å…·
- **Git**ï¼šç‰ˆæœ¬æ§åˆ¶å·¥å…·

### æ„å»ºé¡¹ç›®

1. å…‹éš†ä»“åº“
   ```bash
git clone https://github.com/yourusername/vpnet.git
cd vpnet
```

2. æ„å»ºæ ¸å¿ƒåº“
   ```bash
cargo build --release
```

3. æ„å»ºæœåŠ¡ç«¯
   ```bash
cargo build --release -p vpnet-server
```

4. æ„å»ºå®¢æˆ·ç«¯
   ```bash
cargo build --release -p vpnet-client
```

5. æ„å»º Web æœåŠ¡
   ```bash
cargo build --release -p vpnet-web
```

### äº¤å‰ç¼–è¯‘

#### ç¼–è¯‘ arm64 ç‰ˆæœ¬
```bash
cargo build --release --target aarch64-unknown-linux-musl
```

#### ç¼–è¯‘ armv7 ç‰ˆæœ¬
```bash
cargo build --release --target armv7-unknown-linux-musleabihf
```

#### ç¼–è¯‘ Windows x86_64 ç‰ˆæœ¬
```bash
cargo build --release --target x86_64-pc-windows-msvc
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| å»¶è¿Ÿ | < 50ms | èŠ‚ç‚¹é—´é€šä¿¡å»¶è¿Ÿ |
| ååé‡ | > 100 Mbps | æ•°æ®ä¼ è¾“é€Ÿç‡ |
| å†…å­˜å ç”¨ | < 10MB | æœåŠ¡ç«¯è¿è¡Œå†…å­˜ |
| CPU ä½¿ç”¨ç‡ | < 5% | æœåŠ¡ç«¯ CPU ä½¿ç”¨ç‡ |
| å¯åŠ¨æ—¶é—´ | < 1s | ä»å¯åŠ¨åˆ°å®Œå…¨è¿è¡Œ |
| æ”¯æŒèŠ‚ç‚¹æ•° | > 100 | å•ç½‘ç»œæ”¯æŒçš„èŠ‚ç‚¹æ•°é‡ |

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **ç«¯åˆ°ç«¯åŠ å¯†**ï¼šä½¿ç”¨ AES-GCM-256 åŠ å¯†é€šä¿¡
- **å¯†é’¥ç®¡ç†**ï¼šå®‰å…¨çš„å¯†é’¥ç”Ÿæˆå’Œå­˜å‚¨æœºåˆ¶
- **è®¤è¯æˆæƒ**ï¼šè®¾å¤‡èº«ä»½è®¤è¯å’Œæƒé™ç®¡ç†
- **æ•°æ®å®Œæ•´æ€§**ï¼šä½¿ç”¨ HMAC-SHA256 ä¿è¯æ•°æ®å®Œæ•´æ€§
- **é˜²é‡æ”¾æ”»å‡»**ï¼šæ—¶é—´æˆ³æœºåˆ¶é˜²æ­¢é‡æ”¾æ”»å‡»

## ğŸ“± å®¢æˆ·ç«¯æ”¯æŒ

| æ“ä½œç³»ç»Ÿ | æ¶æ„ | æ”¯æŒçŠ¶æ€ |
|----------|------|----------|
| Windows | x86_64 | âœ… æ”¯æŒ |
| Windows | arm64 | âœ… æ”¯æŒ |
| Linux | x86_64 | âœ… æ”¯æŒ |
| Linux | arm64 | âœ… æ”¯æŒ |
| Linux | armv7 | âœ… æ”¯æŒ |
| macOS | x86_64 | âœ… æ”¯æŒ |
| macOS | arm64 | âœ… æ”¯æŒ |
| Android | arm64 | ğŸ”„ å¼€å‘ä¸­ |
| Android | armv7 | ğŸ”„ å¼€å‘ä¸­ |
| iOS | arm64 | ğŸ”„ å¼€å‘ä¸­ |

## ğŸ¤ ç¤¾åŒºä¸è´¡çŒ®

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ `git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ `git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ°åˆ†æ”¯ `git push origin feature/AmazingFeature`
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- ä»£ç é£æ ¼ï¼šéµå¾ª Rust å®˜æ–¹ä»£ç é£æ ¼
- æäº¤ä¿¡æ¯ï¼šæ¸…æ™°ã€ç®€æ´ï¼Œä½¿ç”¨è‹±æ–‡
- æµ‹è¯•ï¼šæ–°å¢åŠŸèƒ½éœ€æ·»åŠ å•å…ƒæµ‹è¯•
- æ–‡æ¡£ï¼šå®Œå–„çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£

### é—®é¢˜åé¦ˆ

- **GitHub Issues**ï¼šhttps://github.com/yourusername/vpnet/issues
- **Discussions**ï¼šhttps://github.com/yourusername/vpnet/discussions

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯**ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**ï¼šhttps://github.com/yourusername/vpnet
- **ä½œè€…**ï¼šYour Name
- **é‚®ç®±**ï¼šyour@email.com

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º VPNet é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

---

**VPNet - è®©ä¸–ç•Œæ›´è¿‘ä¸€æ­¥ï¼** ğŸŒâœ¨
